<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página de Gerenciamento</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        .header {
            background-color: #333;
            overflow: hidden;
        }

        .header a {
            float: left;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }

        .header a:hover {
            background-color: #ddd;
            color: black;
        }

        .dropdown {
            float: left;
            overflow: hidden;
        }

        .dropdown .dropbtn {
            font-size: 16px;
            border: none;
            outline: none;
            color: white;
            padding: 14px 16px;
            background-color: inherit;
            font-family: inherit;
            margin: 0;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .dropdown-content a {
            float: none;
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            text-align: left;
        }

        .dropdown-content a:hover {
            background-color: #ddd;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .form-container {
            display: none;
            padding: 20px;
            border: 1px solid #ccc;
            margin-top: 20px;
        }

        .form-container.active {
            display: block;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th,
        td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }
    </style>
    <script>
        async function PesquisaMesa(event) {
            event.preventDefault(); // Impede o envio padrão do formulário
            const idMesa = document.getElementById('tableSelectMesa').value;
            try {
                const response = await fetch(`http://localhost:40001/mesa/${idMesa}`);
                const dados = await response.json();
                const mesa = dados.mesa; // Assume que dados.mesa é um objeto único

                document.getElementById('allMesa').innerHTML = " ";

                const row = document.createElement('tr');
                row.innerHTML = `
            <td>Mesa Número: ${mesa.id}</td>
            <td>Capacidade: ${mesa.mesaCapact}</td>
            <td><button id="DeleteMesas" value="${mesa.id}" onclick="DeleteMesa(event, this)" style="width:100%">Deletar</button></td>
            <td><button id="AlterarMesa" 
                        data-mesa='${JSON.stringify(mesa)}' 
                        onclick="showForm(event, 'form-mesa-alterar')" 
                        style="width:100%">Alterar</button></td>
        `;
                document.getElementById('allMesa').appendChild(row);
                localStorage.setItem('idAlteraMesa', mesa.id);
            } catch (error) {
                console.error('Error loading disponibilidade:', error);
            }
        }
        async function PesquisaUser(event) {
            event.preventDefault(); // Impede o envio padrão do formulário
            const email = document.getElementById('pesquisa_usuario_email').value;
            const response = await fetch(`http://localhost:40001/user/${email}`);
            const dados = await response.json();
            const user = dados.user;
            try {
                document.getElementById('allUser').innerHTML = " ";
                const row = document.createElement('tr');
                row.innerHTML = `
                <td>${user.name}</td>
                <td>${user.email}</td>
                <td>${user.telefone}</td>
                <td><button id="del_user_id" value="${user.id}" onclick="DeleteUser(event)" style="width:100%">Deletar</button></td>
                <td><button id="AlterarPrato" 
                            data-user='${JSON.stringify(user)}' 
                            onclick="showForm(event, 'form-usuario-alterar')" 
                            style="width:100%">Alterar</button></td>
            `;
                document.getElementById('allUser').appendChild(row);
                localStorage.setItem('idAlterarUser', user.id);
            }
            catch (error) {
                console.error('Error loading usuario:', error); ''
            }

        }
        async function PesquisaPrato(event) {
            event.preventDefault(); // Impede o envio padrão do formulário
            const date = document.getElementById('classprato_pesq').value;
            const response = await fetch(`http://localhost:40001/prato/${date}`);
            const dados = await response.json();
            const { pratoName, pratoValor, pratoClass } = dados.pratos;
            try {
                document.getElementById('allPrato').innerHTML = " ";
                dados.pratos.forEach(prato => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                <td>Mesa: ${prato.pratoName}</td>
                <td>${prato.pratoValor}</td>
                <td>${prato.pratoClass}</td>
                <td><button id="DeletePr" value="${prato.id}" onclick="DeletePrato(event,this)" style="width:100%">Deletar</button></td>
                <td><button id="AlterarPrato" 
                            data-prato='${JSON.stringify(prato)}' 
                            onclick="showForm(event, 'form-prato-alterar')" 
                            style="width:100%">Alterar</button></td>
            `;
                    document.getElementById('allPrato').appendChild(row);
                    localStorage.setItem('idAlterarPrato', prato.id);
                });
            }
            catch (error) {
                console.error('Error loading disponibilidade:', error); ''
            }
        }
        async function PesquisaReserva(event) {
            event.preventDefault(); // Impede o envio padrão do formulário
            const date = document.getElementById('pesquisa-res-data').value;
            const response = await fetch(`http://localhost:40001/res/${date}`);
            const dados = await response.json();
            const { mesaId, Date, HorarioReservado } = dados.info;
            try {
                document.getElementById('allRes').innerHTML = " ";
                dados.info.forEach(reserva => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                <td>Mesa: ${reserva.mesaId}</td>
                <td>${reserva.Date}</td>
                <td>${reserva.HorarioReservado}</td>
                <td><button id="DeleteRes" value="${reserva.id}" onclick="DeleteRes(event)" style="width:100%">Deletar</button></td>
                <td><button id="AlterarDisp" 
                            data-reserva='${JSON.stringify(reserva)}' 
                            onclick="showForm(event, 'form-reserva-alterar')" 
                            style="width:100%">Alterar</button></td>
            `;
                    document.getElementById('allRes').appendChild(row);
                    localStorage.setItem('idAlterarRes', reserva.id);
                });
            }
            catch (error) {
                console.error('Error loading disponibilidade:', error); ''
            }
        }

        async function PesquisaDisp(event) {
            event.preventDefault(); // Impede o envio padrão do formulário
            const date = document.getElementById('data_pesquisa_disp').value;
            const response = await fetch(`http://localhost:40001/getdisp/${date}`);
            const disponibilidade = await response.json();
            const { DateDisponivel, hora_inicio, hora_fim } = disponibilidade.disponibilidade;
            try {
                document.getElementById('alldisponibilidade').innerHTML = " ";
                disponibilidade.disponibilidade.forEach(disponib => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                <td>${disponib.DateDisponivel}</td>
                <td>${disponib.hora_inicio}</td>
                <td>${disponib.hora_fim}</td>
                <td>Mesa: ${disponib.mesaId}</td>
                <td><button id="DeleteDisp" value="${disponib.id}" onclick="DeleteDisp(event)" style="width:100%">Deletar</button></td>
                <td><button id="AlterarDisp" 
                            data-disponib='${JSON.stringify(disponib)}' 
                            onclick="showForm(event, 'form-disponibilidade-alterar')" 
                            style="width:100%">Alterar</button></td>
            `;
                    document.getElementById('alldisponibilidade').appendChild(row);
                    localStorage.setItem('idAlterarDisp', disponib.id);
                });
            }
            catch (error) {
                console.error('Error loading disponibilidade:', error); ''
            }
        }
        async function DeleteUser(event) {
            var botao = document.getElementById("btn_pesq_user");
            var UserId = document.getElementById("del_user_id").value;
            console.log(UserId);
            const data = {
                id: UserId
            };
            try {
                const response = await fetch('http://localhost:40001/user', {
                    method: 'DELETE',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    alert(`Erro: essa mensagem`);
                    return false;
                }
                const result = await response.json();
                alert('Usuario Deletado com sucesso!');
                botao.click();
                console.log(result);
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao deletar Usuario');
            }
        }

        async function DeleteMesa(event, value) {
            IdMesa = value.value;
            var botao = document.getElementById("btn_pesq_mesa");

            const data = {
                id: IdMesa
            };
            try {
                const response = await fetch('http://localhost:40001/mesa', {
                    method: 'DELETE',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    alert(`Erro: essa mensagem`);
                    return false;
                }

                const result = await response.json();
                alert('Mesa Deletada com sucesso!');
                botao.click();
                console.log(result);
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao deletar Mesa');
            }
        }


        async function DeleteDisp(event) {
            const Dispid = document.getElementById('DeleteDisp').value;
            var botao = document.getElementById("btnPesqDisp");

            const data = {
                id: Dispid
            };

            try {
                const response = await fetch('http://localhost:40001/deldisp', {
                    method: 'DELETE',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    alert(`Erro: essa mensagem`);
                    return false;
                }

                const result = await response.json();
                alert('Disponibilidade Deletada com sucesso!');
                botao.click();
                console.log(result);
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao deletar a disponibilidade');
            }
        }

        async function DeleteRes(event) {
            const IdRes = document.getElementById('DeleteRes').value;
            var botao = document.getElementById("btn_pesquisa_res");
            console.log(IdRes);
            const data = {
                id: IdRes
            };
            try {
                const response = await fetch('http://localhost:40001/res/del', {
                    method: 'DELETE',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    alert(`Erro: essa mensagem`);
                    return false;
                }

                const result = await response.json();
                alert('Disponibilidade Deletada com sucesso!');
                botao.click();
                console.log(result);
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao deletar a disponibilidade');
            }
        }
        async function DeletePrato(event, value) {
            IdPrato = value.value;
            var botao = document.getElementById("btn_pesquisa_res");

            const data = {
                id: IdPrato
            };
            try {
                const response = await fetch('http://localhost:40001/prato', {
                    method: 'DELETE',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    alert(`Erro: essa mensagem`);
                    return false;
                }

                const result = await response.json();
                alert('Prato Deletado com sucesso!');
                botao.click();
                console.log(result);
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao deletar prato');
            }
        }
        async function InsertReserva(event) {

            event.preventDefault(); // Impede o envio padrão do formulário
            // Obtendo os valores dos campos do formulário
            const email = document.getElementById('cria-res-email').value;
            const date = document.getElementById('cria-res-data').value;
            const HoraReservada = document.getElementById('cria-res-horario').value;
            const NumMesa = document.getElementById('tableSelectRes').value;

            const data = {
                mesaId: NumMesa,
                email: email,
                date: date,
                horarioReserv: HoraReservada
            };

            try {
                const response = await fetch('http://localhost:40001/res/add', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    console.log(data)
                    alert(`Erro: Erro ao realizar Reserva`);
                    return false;
                }

                const result = await response.json();
                alert('Reserva realizada com sucesso!');
                console.log(result);
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao realizar o reserva');
            }
        }

        async function loadItems() {
            try {
                const response = await fetch('http://localhost:40001/mesa');
                const data = await response.json();
                const tables = data.mesa; // Array de mesas

                const selectBox = document.getElementById('tableSelect');
                const selectBoxRes = document.getElementById('tableSelectRes');
                const selectBoxMesa = document.getElementById('tableSelectMesa');


                tables.forEach(table => {
                    const option = document.createElement('option');
                    option.value = table.id;
                    option.textContent = `Mesa ${table.id} - Capacidade: ${table.mesaCapact}`;
                    selectBox.appendChild(option);
                });

                tables.forEach(table => {
                    const option = document.createElement('option');
                    option.value = table.id;
                    option.textContent = `Mesa ${table.id} - Capacidade: ${table.mesaCapact}`;
                    selectBoxRes.appendChild(option);
                });

                tables.forEach(table => {
                    const option = document.createElement('option');
                    option.value = table.id;
                    option.textContent = `Mesa ${table.id} - Capacidade: ${table.mesaCapact}`;
                    selectBoxMesa.appendChild(option);
                });
            } catch (error) {
                console.error('Error loading tables:', error);
            }
        }
        window.onload = loadItems;
        async function CreateDisp(event) {
            event.preventDefault(); // Impede o envio padrão do formulário

            // Obtendo os valores dos campos do formulário
            const NumMesa = document.getElementById('tableSelect').value;
            const date = document.getElementById('data').value;
            const horainicio = document.getElementById('horainicio').value;
            const horafim = document.getElementById('horafim').value;

            // Dados que serão enviados
            const data = {
                mesaId: NumMesa,
                date: date,
                hora_inicio: horainicio,
                hora_fim: horafim,
            };

            try {
                const response = await fetch('http://localhost:40001/disp/add', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    alert(`Erro: essa mensagem`);
                    return false;
                }

                const result = await response.json();
                alert('Disponibilidade cadastrada com sucesso!');
                console.log(result);
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao cadastrar o disponibilidade');
            }
        }
        async function CreateReserva(event) {
            event.preventDefault(); // Impede o envio padrão do formulário

            // Obtendo os valores dos campos do formulário
            const NumMesa = document.getElementById('NumMesa_cria_res').value;
            const EmailUser = document.getElementById('EmailUsuario_cria_res').value;
            const Date = document.getElementById('data_criar_res').value;

            // Dados que serão enviados
            const data = {
                mesaCapact: CapactMesa
            };

            try {
                const response = await fetch('http://localhost:40001/mesa/add', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    alert(`Erro: essa mensagem`);
                    return false;
                }

                const result = await response.json();
                alert('Mesa cadastrada com sucesso!');
                console.log(result);
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao cadastrar o mesa');
            }
        }
        async function CreateMesa(event) {
            event.preventDefault(); // Impede o envio padrão do formulário

            // Obtendo os valores dos campos do formulário
            const CapactMesa = document.getElementById('capacidade').value;

            // Dados que serão enviados
            const data = {
                mesaCapact: CapactMesa
            };

            try {
                const response = await fetch('http://localhost:40001/mesa/add', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    alert(`Erro: essa mensagem`);
                    return false;
                }

                const result = await response.json();
                alert('Mesa cadastrada com sucesso!');
                console.log(result);
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao cadastrar o mesa');
            }
        }
        async function CreatePrato(event) {
            event.preventDefault(); // Impede o envio padrão do formulário

            // Obtendo os valores dos campos do formulário
            const PratoClass = document.getElementById('classprato').value;
            const PratoValor = document.getElementById('valorprato').value;
            const PratoDesc = document.getElementById('descprato').value;
            const PratoNome = document.getElementById('nomeprato').value;

            // Dados que serão enviados
            const data = {
                pratoName: PratoNome,
                pratoValor: PratoValor,
                pratoDesc: PratoDesc,
                pratoClass: PratoClass
            };

            try {
                const response = await fetch('http://localhost:40001/prato/add', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    alert(`Erro: essa mensagem`);
                    return false;
                }

                const result = await response.json();
                alert('Prato cadastrado com sucesso!');
                console.log(result);
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao cadastrar o Prato');
            }
        }

        async function CreateUser(event) {
            event.preventDefault(); // Impede o envio padrão do formulário

            // Obtendo os valores dos campos do formulário
            const nome = document.getElementById('nome').value;
            const endereco = document.getElementById('endereco').value;
            const telefone = document.getElementById('telefone').value;
            const email = document.getElementById('email').value;
            const senha = document.getElementById('senha').value;
            const confirmarSenha = document.getElementById('confirmar_senha').value;
            const ClassUser = document.getElementById('classuser').value;


            if (senha !== confirmarSenha) {
                alert('As senhas não coincidem!');
                return false;
            }

            // Dados que serão enviados
            const data = {
                name: nome,
                endereco: endereco,
                telefone: telefone,
                email: email,
                password: senha,
                type: ClassUser // Adicione outros campos necessários aqui
            };
            console.log(data);
            try {
                const response = await fetch('http://localhost:40001/user/signup', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    alert(`Erro: essa mensagem`);
                    return false;
                }

                const result = await response.json();
                alert('Usuário cadastrado com sucesso!');
                console.log(result);
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao cadastrar o usuário');
            }
        }
        async function AlterarDisp(event) {
            event.preventDefault(); // Impede o envio padrão do formulário
            const IdALterar = localStorage.getItem('idAlterarDisp');
            var botao = document.getElementById("btnPesqDisp");

            const NumMesa = document.getElementById('NumMesa_alterar_disp').value;
            const Date = document.getElementById('data_alterar_disp').value;
            const HoraInicio = document.getElementById('hora_inicio_alterar').value;
            const HoraFim = document.getElementById('hora_fim_alterar').value;

            const data = {
                mesaId: NumMesa,
                DateDisponivel: Date,
                hora_inicio: HoraInicio,
                hora_fim: HoraFim,
            };

            try {
                alert(IdALterar);
                const response = await fetch(`http://localhost:40001/disp/${IdALterar}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                if (!response.ok) {
                    const errorData = await response.json();
                    alert(`Erro: essa mensagem`);
                    return false;
                }

                const result = await response.json();
                alert('Disponibilidade alterada com sucesso!');
                console.log(result);
                botao.click();
            }
            catch (error) {
                console.error('Erro:', error);
                alert('Erro ao alterar disponibilidade');
            }
        }

        async function AlterarRes(event) {
            event.preventDefault(); // Impede o envio padrão do formulário
            const IdALterar = localStorage.getItem('idAlterarRes');
            var botao = document.getElementById("btn_pesquisa_res");

            const Date = document.getElementById('alt-res-data').value;
            const Mesa = document.getElementById('alt-res-mesa').value;
            const Horario = document.getElementById('alt-res-horario').value;


            const data = {
                mesaId: Mesa,
                date: Date,
                HorarioReservado: Horario
            };

            try {
                const response = await fetch(`http://localhost:40001/res/${IdALterar}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                if (!response.ok) {
                    const errorData = await response.json();
                    alert(`Erro: essa mensagem`);
                    return false;
                }

                const result = await response.json();
                alert('Reserva alterada com sucesso!');
                console.log(result);
                botao.click();
            }
            catch (error) {
                console.error('Erro:', error);
                alert('Erro ao alterar reserva');
            }
        }

        async function AlterarPrato(event) {
            event.preventDefault(); // Impede o envio padrão do formulário
            var botao = document.getElementById("btn_pesquisa_prato");
            const IdALterar = localStorage.getItem('idAlterarPrato');

            const Pratoid = document.getElementById('id_prato_alt').value;
            console.log(Pratoid);
            const PratoName = document.getElementById('nome_prato_alt').value;
            const PratoValor = document.getElementById('valor_prato_alt').value;
            const DescPrato = document.getElementById('Des_prato_alt').value;
            const PratoClass = document.getElementById('classprato_alt').value;

            const data = {
                pratoName: PratoName,
                pratoValor: PratoValor,
                pratoDesc: DescPrato,
                pratoClass: PratoClass
            };

            try {
                const response = await fetch(`http://localhost:40001/prato/update/${Pratoid}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                if (!response.ok) {
                    const errorData = await response.json();
                    alert(`Erro: essa mensagem`);
                    return false;
                }
                const result = await response.json();
                alert('Prato alterado com sucesso!');
                console.log(result);
            }
            catch (error) {
                console.error('Erro:', error);
                alert('Erro ao alterar prato');
            }
        }

        async function AlterarMesa(event) {
            event.preventDefault(); // Impede o envio padrão do formulário
            var botao = document.getElementById("btn_pesq_mesa");

            const MesaId = document.getElementById('numero_alterar_mesa').value;

            const MesaCapact = document.getElementById('capacidade_alterar_mesa').value;
            console.log(MesaId);
            console.log(MesaCapact);

            const data = {
                mesaCapact: MesaCapact,
            };

            try {
                const response = await fetch(`http://localhost:40001/mesa/update/${MesaId}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                if (!response.ok) {
                    const errorData = await response.json();
                    alert(`Erro: essa mensagem`);
                    return false;
                }
                const result = await response.json();
                alert('Mesa alterada com sucesso!');
                console.log(result);
            }
            catch (error) {
                console.error('Erro:', error);
                alert('Erro ao alterar mesa');
            }
        }
        async function AlterarUser(event) {
            event.preventDefault(); // Impede o envio padrão do formulário
            var botao = document.getElementById("btn_pesq_mesa");
            
            const IdALterar = localStorage.getItem('idAlterarUser');

            const NameUser = document.getElementById('nome_alt_user').value
            const EnderecUser = document.getElementById('endereco_alt_user').value
            const FoneUser = document.getElementById('telefone_alt_user').value
            const EmailUser = document.getElementById('email_alt_user').value
            const SenhaUser = document.getElementById('senha_alt_user').value

            console.log(IdALterar);
            const data = {
                name: NameUser,
                email: EmailUser,
                endereco: EnderecUser,
                password: SenhaUser,
                telefone: FoneUser,
            };

            try {
                const response = await fetch(`http://localhost:40001/user/update/${IdALterar}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                if (!response.ok) {
                    const errorData = await response.json();
                    alert(`Erro: essa mensagem`);
                    return false;
                }
                const result = await response.json();
                alert('Usuario alterada com sucesso!');
                console.log(result);
            }
            catch (error) {
                console.error('Erro:', error);
                alert('Erro ao alterar Usuario');
            }
        }
    </script>
</head>

<body>

    <div class="header">
        <div class="dropdown">
            <button class="dropbtn">Disponibilidade</button>
            <div class="dropdown-content">
                <a href="#" onclick="showForm(event, 'form-disponibilidade-criar')">Criar</a>
                <a href="#" onclick="showForm(event, 'form-disponibilidade-pesquisar')">Pesquisar</a>
            </div>
        </div>
        <div class="dropdown">
            <button class="dropbtn">Mesa</button>
            <div class="dropdown-content">
                <a href="#" onclick="showForm(event, 'form-mesa-criar')">Criar</a>
                <a href="#" onclick="showForm(event, 'form-mesa-pesquisar')">Pesquisar</a>
            </div>
        </div>
        <div class="dropdown">
            <button class="dropbtn">Prato</button>
            <div class="dropdown-content">
                <a href="#" onclick="showForm(event,'form-prato-criar')">Criar</a>
                <a href="#" onclick="showForm(event,'form-prato-pesquisar')">Pesquisar</a>
            </div>
        </div>
        <div class="dropdown">
            <button class="dropbtn">Usuários</button>
            <div class="dropdown-content">
                <a href="#" onclick="showForm(event,'form-usuario-criar')">Criar</a>
                <a href="#" onclick="showForm(event,'form-usuario-pesquisar')">Pesquisar</a>
            </div>
        </div>
        <div class="dropdown">
            <button class="dropbtn">Reservas</button>
            <div class="dropdown-content">
                <a href="#" onclick="showForm(event,'form-reserva-criar')">Criar</a>
                <a href="#" onclick="showForm(event,'form-reserva-pesquisar')">Pesquisar</a>
            </div>
        </div>
        <a href="login.html" id="loginLink" class="login">Login</a>
    </div>

    <div id="form-disponibilidade-criar" class="form-container">
        <h2>Criar Disponibilidade</h2>
        <form onsubmit="CreateDisp(event)">
            <label for="data">Número da Mesa:</label><br>
            <select name="select" id="tableSelect"><br>
                <option value="">Select an item</option>
            </select><br>
            <label for="data">Data da Reserva:</label><br>
            <input type="date" id="data" name="data" required><br>
            <label for="nome">Hora de inicio:</label><br>
            <input type="text" id="horainicio" name="nome"><br>
            <label for="nome">Hora final:</label><br>
            <input type="text" id="horafim" name="nome"><br>
            <button type="submit" class="btn cadastrar">Inserir</button>
        </form>
    </div>
    <div id="form-disponibilidade-pesquisar" class="form-container">
        <h2>Pesquisar Disponibilidade</h2>
        <form onsubmit="PesquisaDisp(event)">
            <label for="data">Data:</label><br>
            <input type="date" id="data_pesquisa_disp" name="data" required>
            <button type="submit" class="btn cadastrar" id="btnPesqDisp">Pesquisar</button>
        </form>
        <h1>Lista de Disponibilidades</h1>
        <table id="alldisponibilidade">

        </table>
    </div>

    <div id="form-disponibilidade-alterar" class="form-container">
        <button class="btn-arrow" onclick="showForm(event,'form-disponibilidade-pesquisar')"><span
                class="arrow">&larr;</span></button>
        <h2>Alterar Disponibilidade</h2>
        <form onsubmit=" AlterarDisp(event)">
            <label for="nome">Número da Mesa:</label><br>
            <input type="text" id="NumMesa_alterar_disp" name="NumMesa_alterar_disp"><br>
            <label for="data">Data:</label><br>
            <input type="date" id="data_alterar_disp" name="data_alterar_disp" required><br>
            <label for="nome">Hora de Inicio:</label><br>
            <input type="text" id="hora_inicio_alterar" name="hora_inicio_alterar"><br>
            <label for="nome">Hora de Encerramento:</label><br>
            <input type="text" id="hora_fim_alterar" name="hora_fim_alterar"><br>
            <button type="submit" class="btn cadastrar" id="btnAltqDisp">Alterar</button>
        </form>
    </div>

    <div id="form-mesa-criar" class="form-container">
        <h2>Criar Mesa</h2>
        <form onsubmit="CreateMesa(event)">
            <label for="mesa">Capacidade da Mesa:</label><br>
            <input type="text" id="capacidade" name="mesa"><br>
            <button type="submit" class="btn cadastrar">Cadastrar</button>
        </form>
    </div>

    <div id="form-mesa-pesquisar" class="form-container">
        <h2>Pesquisar Mesa</h2>
        <form onsubmit="PesquisaMesa(event)">
            <label for="data">Número da Mesa:</label><br>
            <select name="select" id="tableSelectMesa">
            </select><br>
            <button type="submit" class="btn cadastrar" id="btn_pesq_mesa">Pesquisar</button>
        </form>
        <h1>Lista de Mesas</h1>
        <table id="allMesa">

        </table>
    </div>

    <div id="form-mesa-alterar" class="form-container">
        <button class="btn-arrow" onclick="showForm(event,'form-mesa-pesquisar')"><span
                class="arrow">&larr;</span></button>
        <h2>Alterar Mesa</h2>
        <form onsubmit="AlterarMesa(event)">
            <label for="nome">Número da Mesa:</label><br>
            <input type="text" id="numero_alterar_mesa" name="NumMesa_alterar_disp" readonly><br>
            <label for="nome">Capacidade da Mesa:</label><br>
            <input type="text" id="capacidade_alterar_mesa" name="NumMesa_alterar_disp"><br>
            <button type="submit" class="btn cadastrar" id="btnAltMesa">Alterar</button>
        </form>
    </div>

    <div id="form-prato-criar" class="form-container">
        <h2>Criar Prato</h2>
        <form onsubmit="CreatePrato(event)">
            <label for="prato">Nome do Prato:</label><br>
            <input type="text" id="nomeprato" name="prato"><br>
            <label for="prato">Valor do Prato:</label><br>
            <input type="text" id="valorprato" name="prato"><br>
            <label for="prato">Descrição do Prato:</label><br>
            <input type="text" id="descprato" name="prato"><br>
            <label for="prato">Prato:</label><br>
            <select name="select" id="classprato">
                <option value="">Select a Time</option>
                <option value="Aperitivos">Aperitivos</option>
                <option value="Blends Artesanais">Blends Artesanais</option>
                <option value="Acompanhamentos">Acompanhamentos</option>
                <option value="Especiais">Especiais</option>
                <option value="Bebidas">Bebidas</option>
            </select><br>
            <button type="submit" class="btn cadastrar">Cadastrar</button>
        </form>
    </div>

    <div id="form-prato-pesquisar" class="form-container">
        <h2>Pesquisar Prato</h2>
        <form onsubmit="PesquisaPrato(event)">
            <label for="prato">Prato:</label><br>
            <select name="select" id="classprato_pesq">
                <option value="">Select a Time</option>
                <option value="Aperitivos">Aperitivos</option>
                <option value="Blends Artesanais">Blends Artesanais</option>
                <option value="Acompanhamentos">Acompanhamentos</option>
                <option value="Especiais">Especiais</option>
                <option value="Bebidas">Bebidas</option>
            </select><br>
            <button type="submit" class="btn cadastrar" id="btn_pesquisa_prato">Pesquisar</button>
        </form>
        <h1>Lista de Reserva</h1>
        <table id="allPrato">

        </table>
    </div>

    <div id="form-prato-alterar" class="form-container">
        <button class="btn-arrow" onclick="showForm(event,'form-prato-pesquisar')"><span
                class="arrow">&larr;</span></button>
        <h2>Alterar Prato</h2>
        <form onsubmit="AlterarPrato(event)">
            <input type="hidden" id="id_prato_alt" name="usuario" readonly><br>
            <label for="usuario">Nome do Prato:</label><br>
            <input type="text" id="nome_prato_alt" name="usuario"><br>
            <label for="usuario">Valor do Prato:</label><br>
            <input type="text" id="valor_prato_alt" name="usuario"><br>
            <select name="select" id="classprato_alt">
                <option value="">Select a Time</option>
                <option value="Aperitivos">Aperitivos</option>
                <option value="Blends Artesanais">Blends Artesanais</option>
                <option value="Acompanhamentos">Acompanhamentos</option>
                <option value="Especiais">Especiais</option>
                <option value="Bebidas">Bebidas</option>
            </select><br>
            <label for="usuario">Descrição do Prato:</label><br>
            <textarea name="" id="Des_prato_alt" cols="30" rows="5"></textarea>
            <button type="submit" class="btn cadastrar" id="btn_pesquisa_prato">Alterar</button>
        </form>
    </div>

    <div id="form-usuario-criar" class="form-container">
        <h2>Criar Usuário</h2>
        <form onsubmit="CreateUser(event)">

            <label for="nome">Nome:</label><br>
            <input type="text" id="nome" name="nome" required><br>


            <label for="endereco">Endereço:</label><br>
            <input type="text" id="endereco" name="endereco" required><br>

            <label for="telefone">Telefone:</label><br>
            <input type="tel" id="telefone" name="telefone" required><br>

            <label for="email">E-mail:</label><br>
            <input type="email" id="email" name="email" required><br>

            <label for="senha">Senha:</label><br>
            <input type="password" id="senha" name="senha" required><br>

            <label for="confirmar_senha">Confirmar Senha:</label><br>
            <input type="password" id="confirmar_senha" name="confirmar_senha" required><br>

            <select name="select" id="classuser">
                <option value="admin">Administrador</option>
                <option value="Cliente">Cliente</option>
            </select><br>

            <button type="submit" class="btn cadastrar">Cadastrar</button>

        </form>
    </div>


    <div id="form-usuario-pesquisar" class="form-container">
        <h2>Pesquisar Usuário</h2>
        <form onsubmit="PesquisaUser(event)">
            <label for="usuario">Email do Usuário:</label><br>
            <input type="text" id="pesquisa_usuario_email" name="pesquisa_usuario_email"><br>
            <button type="submit" id="btn_pesq_user">Pesquisar</button>
        </form>
        <h1>Lista de Usuários</h1>
        <table id="allUser">

        </table>
    </div>

    <div id="form-usuario-alterar" class="form-container">
        <button class="btn-arrow" onclick="showForm(event,'form-usuario-pesquisar')"><span
            class="arrow">&larr;</span></button>
        <h2>Alterar Usuário</h2>
        <form onsubmit="AlterarUser(event)">

            <label for="nome">Nome:</label><br>
            <input type="text" id="nome_alt_user" name="nome" required><br>

            <label for="endereco">Endereço:</label><br>
            <input type="text" id="endereco_alt_user" name="endereco" required><br>

            <label for="telefone">Telefone:</label><br>
            <input type="tel" id="telefone_alt_user" name="telefone" required><br>

            <label for="email">E-mail:</label><br>
            <input type="email" id="email_alt_user" name="email" readonly><br>

            <label for="senha">Senha:</label><br>
            <input type="password" id="senha_alt_user" name="senha" required><br>

            <button type="submit" class="btn cadastrar">Alterar</button>

        </form>
    </div>


    <div id="form-reserva-criar" class="form-container">
        <h2>Criar Reserva</h2>
        <form onsubmit="InsertReserva(event)">
            <label for="email">E-mail:</label><br>
            <input type="email" id="cria-res-email" name="email" required><br>

            <label for="telefone">Telefone:</label><br>
            <input type="tel" id="cria-res-telefone" name="telefone" required><br>

            <label for="data">Data da Reserva:</label><br>
            <input type="date" id="cria-res-data" name="data" required><br>

            <label for="data">Número da Mesa:</label><br>
            <select name="select" id="tableSelectRes">
                <option value="">Select an item</option>
            </select><br>

            <label for="telefone">Horario:</label><br>
            <input type="tel" id="cria-res-horario" name="telefone" required><br>

            <div class="form-group">
                <button type="submit" class="btn cadastrar" onclick="InsertReserva(event)">Cadastrar</button>
            </div>
        </form>
    </div>

    <div id="form-reserva-pesquisar" class="form-container">
        <h2>Pesquisar Reserva</h2>
        <form onsubmit="PesquisaReserva(event)">
            <label for="data">Data da Reserva:</label><br>
            <input type="date" id="pesquisa-res-data" name="data" required><br>
            <button type="submit" class="btn cadastrar" id="btn_pesquisa_res">Pesquisar</button>
        </form>
        <h1>Lista de Reserva</h1>
        <table id="allRes">

        </table>
    </div>

    <div id="form-reserva-alterar" class="form-container">
        <button class="btn-arrow" onclick="showForm(event,'form-reserva-pesquisar')"><span
                class="arrow">&larr;</span></button>
        <h2>Alterar Reserva</h2>
        <form onsubmit="AlterarRes(event)">

            <label for="data">Data da Reserva:</label><br>
            <input type="date" id="alt-res-data" name="data" required><br>

            <label for="data">Número da Mesa:</label><br>
            <input type="tel" id="alt-res-mesa" name="telefone" required><br>

            <label for="telefone">Horario:</label><br>
            <input type="tel" id="alt-res-horario" name="telefone" required><br>

            <div class="form-group">
                <button type="submit" class="btn cadastrar">Cadastrar</button>
            </div>
        </form>
    </div>

    <script>

        function showForm(event, formId) {
            // Hide all forms
            var forms = document.querySelectorAll('.form-container');
            forms.forEach(function (form) {
                form.classList.remove('active');
            });
            // Show the selected form
            var form = document.getElementById(formId);
            if (form) {
                form.classList.add('active');
            }
            console.log(form);

            if (form.id == "form-disponibilidade-alterar") {
                const disponibData = JSON.parse(event.target.dataset.disponib);
                console.log(disponibData);
                document.getElementById('data_alterar_disp').value = disponibData.DateDisponivel;
                document.getElementById('hora_inicio_alterar').value = disponibData.hora_inicio;
                document.getElementById('hora_fim_alterar').value = disponibData.hora_fim;
                document.getElementById('NumMesa_alterar_disp').value = disponibData.mesaId;
            }
            if (form.id == "form-reserva-alterar") {
                const ReservaData = JSON.parse(event.target.dataset.reserva);
                console.log(ReservaData);
                document.getElementById('alt-res-data').value = ReservaData.Date;
                document.getElementById('alt-res-mesa').value = ReservaData.mesaId;
                document.getElementById('alt-res-horario').value = ReservaData.HorarioReservado;
            }
            if (form.id == "form-prato-alterar") {
                const PratoData = JSON.parse(event.target.dataset.prato);
                document.getElementById('id_prato_alt').value = PratoData.id;
                document.getElementById('nome_prato_alt').value = PratoData.pratoName;
                document.getElementById('valor_prato_alt').value = PratoData.pratoValor;
                document.getElementById('classprato_alt').value = PratoData.pratoClass;
                document.getElementById('Des_prato_alt').value = PratoData.pratoDesc;
            }
            if (form.id == "form-mesa-alterar") {
                const MesaData = JSON.parse(event.target.dataset.mesa);
                document.getElementById('numero_alterar_mesa').value = MesaData.id;
                document.getElementById('capacidade_alterar_mesa').value = MesaData.mesaCapact;
            }
            if (form.id == "form-usuario-alterar") {
                const UserData = JSON.parse(event.target.dataset.user);
                document.getElementById('nome_alt_user').value = UserData.name;
                document.getElementById('endereco_alt_user').value = UserData.endereco;
                document.getElementById('telefone_alt_user').value = UserData.telefone;
                document.getElementById('email_alt_user').value = UserData.email;
                document.getElementById('senha_alt_user').value = UserData.password;
            }
        }
    </script>

</body>

</html>